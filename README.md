# æ™ºæ…§æˆ¿åœ°ç”¢ç³»çµ±

**æ™ºæ…§æˆ¿åœ°ç”¢ç³»çµ±** æ˜¯ä¸€å€‹é ˜å…ˆçš„æˆ¿åœ°ç”¢ç§‘æŠ€ï¼ˆPropTechï¼‰è§£æ±ºæ–¹æ¡ˆï¼Œçµåˆ AIã€å¤§æ•¸æ“šå’Œå¾®æœå‹™æ¶æ§‹ï¼Œæ¨å‹•å‚³çµ±æˆ¿åœ°ç”¢ç”¢æ¥­çš„æ•¸ä½è½‰å‹ã€‚æœ¬ç³»çµ±æä¾›æˆ¿åƒ¹é æ¸¬ã€è‡ªå‹•åŒ–æ–‡æ¡ˆç”Ÿæˆå’Œå»ºæ¡ˆç®¡ç†åŠŸèƒ½ï¼Œæ”¯æ´ B2B è¨‚é–±åˆ¶ SaaS æ¨¡å¼èˆ‡ B2C éŠ·å”®å¹³å°ï¼Œèˆ‡ BitStone é»ç‚»ç§‘æŠ€çš„å•†æ¥­æ¨¡å¼é«˜åº¦å¥‘åˆã€‚æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆèˆ‡ Docker å®¹å™¨åŒ–éƒ¨ç½²ï¼Œç³»çµ±å…·å‚™é«˜å¯æ“´å±•æ€§ï¼Œé©åˆèˆ‡çŸ¥å PropTech ä¼æ¥­åˆä½œï¼Œå…±åŒæ‰“é€ æˆ¿åœ°ç”¢ç§‘æŠ€ç”Ÿæ…‹åœˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- **AI é©…å‹•æˆ¿åƒ¹é æ¸¬**ï¼šåˆ©ç”¨ XGBoost æ©Ÿå™¨å­¸ç¿’æ¨¡å‹ï¼ŒåŸºæ–¼é¢ç©ã€åœ°å€ç­‰ç‰¹å¾µæä¾›ç²¾æº–æˆ¿åƒ¹é æ¸¬ï¼Œæ”¯æ´ B2C è²·å®¶æ±ºç­–èˆ‡ B2B å¸‚å ´åˆ†æã€‚
- **è‡ªå‹•åŒ–æ–‡æ¡ˆç”Ÿæˆ**ï¼šæ•´åˆ OpenAI API æˆ–æ¨¡æ“¬é‚è¼¯ï¼Œç”Ÿæˆå¸å¼•äººçš„å»ºæ¡ˆè¡ŒéŠ·æ–‡æ¡ˆï¼Œå„ªåŒ– B2B è¡ŒéŠ·æ•ˆç‡èˆ‡ B2C ç”¨æˆ¶é«”é©—ã€‚
- **å»ºæ¡ˆç®¡ç†**ï¼šæä¾›åˆ†é å¼å»ºæ¡ˆåˆ—è¡¨ã€è©³æƒ…æª¢è¦–å’Œ Google Maps åœ°åœ–æ•´åˆï¼Œç°¡åŒ–æˆ¿åœ°ç”¢è³‡è¨Šç®¡ç†ã€‚
- **B2B SaaS æ¨¡å¼**ï¼šæ¨¡çµ„åŒ– API è¨­è¨ˆï¼Œæ”¯æ´è¨‚é–±åˆ¶æœå‹™ï¼Œæ˜“æ–¼èˆ‡ä¼æ¥­å®¢æˆ¶çš„ç¾æœ‰ç³»çµ±æ•´åˆã€‚
- **å®‰å…¨æ€§èˆ‡åˆè¦æ€§**ï¼šAPI é‡‘é‘°é©—è­‰ã€CORS é…ç½®å’Œç’°å¢ƒè®Šæ•¸ç®¡ç†ï¼Œç¢ºä¿è³‡æ–™å®‰å…¨èˆ‡åˆè¦ã€‚
- **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šé€é Docker Compose å¯¦ç¾ä¸€è‡´æ€§éƒ¨ç½²ï¼Œæ”¯æ´å¿«é€Ÿæ“´å±•èˆ‡é›²ç«¯æ•´åˆã€‚

## æŠ€è¡“æ£§

- **å‰ç«¯**ï¼šVue.js 3ã€Viteã€Tailwind CSSã€Axiosã€Vue Router
- **å¾Œç«¯**ï¼šLaravel 11ï¼ˆPHP 8.3ï¼‰ã€GuzzleHttp
- **AI æœå‹™**ï¼šFastAPIï¼ˆPython 3.10ï¼‰ã€Uvicornã€Pandasã€Scikit-learnã€XGBoostã€OpenAI
- **è³‡æ–™åº«**ï¼šMySQL 8.0
- **å®¹å™¨åŒ–**ï¼šDockerã€Docker Compose
- **å…¶ä»–**ï¼šNginxã€Supervisor

## ç³»çµ±æ¶æ§‹

æœ¬ç³»çµ±æ¡ç”¨å¾®æœå‹™æ¶æ§‹ï¼Œæ‰€æœ‰çµ„ä»¶é‹è¡Œæ–¼ Docker å®¹å™¨ä¸­ï¼Œç¢ºä¿ç’°å¢ƒä¸€è‡´æ€§èˆ‡å¯æ“´å±•æ€§ã€‚ä»¥ä¸‹æ˜¯ä¿®æ­£å¾Œçš„ç³»çµ±äº’å‹•æµç¨‹åœ–ï¼ˆä½¿ç”¨çŸ­æ©«ç·šé¿å…ä¸­æ–‡åœ“æ‹¬è™Ÿï¼‰ï¼š

```mermaid
graph TD
    A[ä½¿ç”¨è€…-ç€è¦½å™¨] -->|GET / Webä»‹é¢| B[å‰ç«¯æœå‹™-Vue.js-Nginx]
    B -->|GET /api/properties| C[å¾Œç«¯æœå‹™-Laravel]
    C -->|SELECT FROM properties| D[MySQL-è³‡æ–™åº«]
    B -->|POST /predict/price| E[AIæœå‹™-FastAPI]
    C -->|POST /properties/{id}/generate-content| E
    E -->|å‘¼å«å¤–éƒ¨API| F[å¤–éƒ¨AIæœå‹™-OpenAI]
    E -->|è¿”å›JSON| C
    C -->|è¿”å›JSON| B
    B -->|æ¸²æŸ“é é¢| A

    subgraph å®¹å™¨åŒ–ç’°å¢ƒ-DockerCompose
        B
        C
        D
        E
    end
```

## é—œéµä»£ç¢¼ç¯„ä¾‹

ä»¥ä¸‹æ˜¯å¸¶æœ‰è©³ç´°è¨»è§£çš„é—œéµä»£ç¢¼ç‰‡æ®µï¼Œå±•ç¤ºç³»çµ±çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œçªé¡¯æŠ€è¡“å¯¦åŠ›ä»¥å¸å¼• BitStone çš„æŠ€è¡“åœ˜éšŠã€‚

### å‰ç«¯ï¼šå»ºæ¡ˆåˆ—è¡¨çµ„ä»¶ï¼ˆVue.jsï¼‰

ä½æ–¼ `frontend/src/pages/HomePage.vue`ï¼Œå±•ç¤ºå¦‚ä½•å¾å¾Œç«¯ç²å–å»ºæ¡ˆåˆ—è¡¨ä¸¦å¯¦ç¾åˆ†é åŠŸèƒ½ï¼Œæ”¯æ´ B2C ç”¨æˆ¶é«”é©—ã€‚

```vue
<template>
  <div class="homepage">
    <h1 class="text-4xl font-extrabold text-gray-900 mb-8 text-center">å»ºæ¡ˆåˆ—è¡¨</h1>

    <!-- é¡¯ç¤ºè¼‰å…¥ä¸­ç‹€æ…‹ï¼Œæå‡ç”¨æˆ¶é«”é©— -->
    <div v-if="isLoading" class="text-center text-gray-600 py-10">
      <p class="text-xl font-semibold">æ­£åœ¨è¼‰å…¥å»ºæ¡ˆè³‡æ–™...</p>
      <div class="mt-4 animate-pulse">
        <div class="h-4 bg-gray-200 rounded w-1/4 mx-auto"></div>
      </div>
    </div>

    <!-- é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œç¢ºä¿éŒ¯èª¤è™•ç†æ¸…æ™° -->
    <div v-if="error" class="error-alert mb-8">
      <strong class="font-bold">è¼‰å…¥å»ºæ¡ˆå¤±æ•—:</strong>
      <span class="block sm:inline">{{ error }}</span>
    </div>

    <!-- å»ºæ¡ˆå¡ç‰‡åˆ—è¡¨ï¼Œæ”¯æ´éŸ¿æ‡‰å¼è¨­è¨ˆ -->
    <div v-if="!isLoading && !error && properties.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div v-for="property in properties" :key="property.id" class="card bg-white rounded-lg shadow-lg overflow-hidden transition-transform transform hover:scale-105 duration-300">
        <router-link :to="`/properties/${property.id}`">
          <img
            :src="property.image_url"
            :alt="property.address"
            class="w-full h-48 object-cover bg-gray-100"
            onerror="this.onerror=null;this.src='https://placehold.co/800x600/E0F2F7/4299E1?text=ç„¡åœ–ç‰‡';"
          />
          <div class="p-6">
            <h2 class="text-2xl font-bold text-gray-900 truncate">{{ property.address }}</h2>
            <p class="text-gray-600 mt-2">é¢ç©: {{ property.area }} åª</p>
            <p class="text-3xl font-bold text-blue-600 mt-2">NT$ {{ formatPrice(property.price) }} è¬</p>
          </div>
        </router-link>
      </div>
    </div>

    <!-- åˆ†é æ§åˆ¶ï¼Œæ”¯æ´å‹•æ…‹é æ•¸åˆ‡æ› -->
    <div v-if="totalPages > 1" class="pagination-controls flex flex-col sm:flex-row justify-between items-center mt-12 space-y-4 sm:space-y-0">
      <div class="flex items-center space-x-2">
        <button
          @click="changePage(currentPage - 1)"
          :disabled="currentPage <= 1"
          class="btn-pagination"
        >
          ä¸Šä¸€é 
        </button>
        <button
          v-for="page in totalPages"
          :key="page"
          @click="changePage(page)"
          :class="['btn-pagination', { 'active': page === currentPage }]"
        >
          {{ page }}
        </button>
        <button
          @click="changePage(currentPage + 1)"
          :disabled="currentPage >= totalPages"
          class="btn-pagination"
        >
          ä¸‹ä¸€é 
        </button>
      </div>
      <span class="text-lg font-medium text-gray-700">é æ•¸ {{ currentPage }} / {{ totalPages }} (å…± {{ totalRecords }} ç­†è¨˜éŒ„)</span>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import axios from 'axios';

// ç‹€æ…‹ç®¡ç†
const properties = ref([]); // å„²å­˜å»ºæ¡ˆåˆ—è¡¨
const isLoading = ref(true); // æ§åˆ¶è¼‰å…¥ç‹€æ…‹
const error = ref(null); // å„²å­˜éŒ¯èª¤è¨Šæ¯
const currentPage = ref(1); // ç•¶å‰é ç¢¼
const totalPages = ref(1); // ç¸½é æ•¸
const totalRecords = ref(0); // ç¸½è¨˜éŒ„æ•¸
const perPage = ref(10); // æ¯é è¨˜éŒ„æ•¸

// å¾å¾Œç«¯ç²å–å»ºæ¡ˆè³‡æ–™ï¼Œæ”¯æ´ B2C å¹³å°å±•ç¤º
const fetchProperties = async (page) => {
  isLoading.value = true;
  error.value = null;
  try {
    // ç™¼é€ GET è«‹æ±‚åˆ°å¾Œç«¯ APIï¼ŒåŒ…å«åˆ†é åƒæ•¸
    const response = await axios.get(`/properties?page=${page}&per_page=${perPage.value}`);
    properties.value = response.data.data;
    const meta = response.data.meta;
    currentPage.value = meta.current_page;
    totalPages.value = meta.last_page;
    totalRecords.value = meta.total;
  } catch (err) {
    console.error('Failed to fetch properties:', err);
    error.value = err.message || 'ç„¡æ³•å¾ä¼ºæœå™¨è¼‰å…¥è³‡æ–™ã€‚';
  } finally {
    isLoading.value = false;
  }
};

// åˆ‡æ›é é¢ï¼Œå„ªåŒ–ç”¨æˆ¶ç€è¦½é«”é©—
const changePage = (page) => {
  if (page > 0 && page <= totalPages.value) {
    fetchProperties(page);
  }
};

// æ ¼å¼åŒ–åƒ¹æ ¼é¡¯ç¤ºï¼Œç¬¦åˆå°ç£å¸‚å ´ç¿’æ…£
const formatPrice = (price) => {
  return parseFloat(price).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
};

// çµ„ä»¶æ›è¼‰æ™‚è¼‰å…¥ç¬¬ä¸€é è³‡æ–™
onMounted(() => {
  fetchProperties(currentPage.value);
});
</script>
```

### å¾Œç«¯ï¼šå»ºæ¡ˆæ§åˆ¶å™¨ï¼ˆLaravelï¼‰

ä½æ–¼ `backend-laravel/app/Http/Controllers/PropertyController.php`ï¼Œå±•ç¤ºå¦‚ä½•è™•ç†å»ºæ¡ˆåˆ—è¡¨å’Œè©³æƒ… APIï¼Œæ”¯æ´ B2B è¨‚é–±åˆ¶å®¢æˆ¶ã€‚

```php
<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Models\Property;
use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;

class PropertyController extends Controller
{
    /**
     * ç²å–å»ºæ¡ˆåˆ—è¡¨ï¼Œæ”¯æ´åˆ†é ï¼Œé©ç”¨æ–¼ B2B SaaS å¹³å°
     * @param \Illuminate\Http\Request $request
     * @return \Illuminate\Http\JsonResponse
     */
    public function index(Request $request)
    {
        try {
            // å¾æŸ¥è©¢åƒæ•¸ç²å–é ç¢¼å’Œæ¯é æ•¸é‡
            $page = $request->query('page', 1);
            $limit = $request->query('limit', 10);

            // ä½¿ç”¨ Laravel çš„åˆ†é åŠŸèƒ½æŸ¥è©¢å»ºæ¡ˆ
            $properties = Property::paginate($limit, ['*'], 'page', $page);
            
            // è¿”å› JSON æ ¼å¼çš„éŸ¿æ‡‰ï¼ŒåŒ…å«å»ºæ¡ˆæ•¸æ“šå’Œåˆ†é å…ƒæ•¸æ“š
            return response()->json([
                'data' => $properties->items(),
                'meta' => [
                    'current_page' => $properties->currentPage(),
                    'total' => $properties->total(),
                    'per_page' => (int) $properties->perPage(),
                    'last_page' => $properties->lastPage(),
                ]
            ]);
        } catch (\Exception $e) {
            Log::error('Failed to get property list: ' . $e->getMessage());
            return response()->json(['error' => 'ç„¡æ³•å–å¾—å»ºæ¡ˆè³‡æ–™ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚'], 500);
        }
    }

    /**
     * ç²å–å–®ä¸€å»ºæ¡ˆè©³æƒ…ï¼Œæ”¯æ´ B2C å¹³å°å±•ç¤º
     * @param int $id
     * @return \Illuminate\Http\JsonResponse
     */
    public function show($id)
    {
        try {
            // æ ¹æ“š ID æŸ¥æ‰¾å»ºæ¡ˆï¼Œè‹¥ä¸å­˜åœ¨å‰‡æ‹‹å‡º 404
            $property = Property::findOrFail($id);
            return response()->json($property);
        } catch (\Illuminate\Database\Eloquent\ModelNotFoundException $e) {
            return response()->json(['error' => 'æ‰¾ä¸åˆ°æŒ‡å®šçš„å»ºæ¡ˆã€‚'], 404);
        } catch (\Exception $e) {
            Log::error("Failed to get property ID:{$id} details: " . $e->getMessage());
            return response()->json(['error' => 'ç„¡æ³•å–å¾—å»ºæ¡ˆè©³æƒ…ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚'], 500);
        }
    }
}
```

### AI æœå‹™ï¼šæˆ¿åƒ¹é æ¸¬ï¼ˆFastAPIï¼‰

ä½æ–¼ `ai-services-fastapi/routers/predict.py`ï¼Œå±•ç¤º AI é©…å‹•çš„æˆ¿åƒ¹é æ¸¬é‚è¼¯ï¼Œå¸å¼• BitStone çš„æŠ€è¡“åœ˜éšŠã€‚

```python
from fastapi import APIRouter, HTTPException
from pydantic import BaseModel
import pandas as pd
import joblib
import os
import logging

# é…ç½®æ—¥èªŒè¨˜éŒ„
logger = logging.getLogger(__name__)

# å®šç¾©è«‹æ±‚æ•¸æ“šæ¨¡å‹ï¼Œæ”¯æ´çµæ§‹åŒ–è¼¸å…¥
class PredictionRequest(BaseModel):
    area: float  # æˆ¿å±‹é¢ç©ï¼ˆåªï¼‰
    address: str  # åœ°å€æˆ–å€åŸŸ
    num_rooms: int = 3  # æˆ¿é–“æ•¸ï¼ˆé è¨­å€¼ï¼‰
    num_bathrooms: int = 2  # æµ´å®¤æ•¸ï¼ˆé è¨­å€¼ï¼‰
    age: int = 10  # å»ºç¯‰å¹´é½¡ï¼ˆé è¨­å€¼ï¼‰
    location_factor: float = 1.0  # åœ°ç†ä½ç½®å½±éŸ¿å› å­ï¼ˆé è¨­å€¼ï¼‰
    is_near_mrt: int = 0  # æ˜¯å¦é è¿‘æ·é‹ï¼ˆé è¨­å€¼ï¼‰

router = APIRouter(
    prefix="/predict",
    tags=["æˆ¿åƒ¹é æ¸¬"]
)

# è¼‰å…¥é è¨“ç·´æ¨¡å‹ï¼Œæ”¯æ´ AI é©…å‹•åŠŸèƒ½
MODEL_PATH = os.path.join(os.path.dirname(__file__), '../models/model_xgb.pkl')
MODEL = None
try:
    if os.path.exists(MODEL_PATH):
        MODEL = joblib.load(MODEL_PATH)
        logger.info(f"âœ… æˆåŠŸè¼‰å…¥é æ¸¬æ¨¡å‹: {MODEL_PATH}")
    else:
        logger.warning(f"âŒ æ¨¡å‹æª”æ¡ˆä¸å­˜åœ¨æ–¼ {MODEL_PATH}ï¼Œå°‡ä½¿ç”¨æ¨¡æ“¬é æ¸¬ã€‚")
except Exception as e:
    logger.error(f"âŒ è¼‰å…¥æ¨¡å‹å¤±æ•—: {e}ï¼Œå°‡ä½¿ç”¨æ¨¡æ“¬é æ¸¬ã€‚")

@router.post("/price", summary="é æ¸¬æˆ¿åƒ¹")
def predict_price(data: PredictionRequest):
    """
    æ ¹æ“šé¢ç©å’Œåœ°å€é æ¸¬æˆ¿åƒ¹ï¼Œæ”¯æ´ B2B èˆ‡ B2C æ‡‰ç”¨
    - area: æˆ¿å±‹é¢ç©ï¼ˆåªï¼‰
    - address: æˆ¿å±‹åœ°å€æˆ–å€åŸŸ
    """
    if data.area <= 0:
        logger.error(f"ç„¡æ•ˆçš„é¢ç©è¼¸å…¥: {data.area}")
        raise HTTPException(status_code=400, detail="é¢ç©å¿…é ˆæ˜¯å¤§æ–¼é›¶çš„æ•¸å€¼ã€‚")
    
    predicted_price_in_ten_thousand = 0.0

    if MODEL:
        try:
            # æ ¹æ“šåœ°å€æ¨¡æ“¬åœ°ç†ä½ç½®å› å­ï¼Œé©æ‡‰å°ç£å¸‚å ´
            location_factor = 1.0
            is_near_mrt = 0
            if 'å¤§å®‰å€' in data.address or 'ä¿¡ç¾©å€' in data.address:
                location_factor = 1.5
                is_near_mrt = 1
            elif 'ä¸­å±±å€' in data.address:
                location_factor = 1.2
            
            # æº–å‚™æ¨¡å‹è¼¸å…¥æ•¸æ“š
            input_data = pd.DataFrame([[data.area, data.num_rooms, data.num_bathrooms, data.age, location_factor, is_near_mrt]],
                                    columns=['area', 'num_rooms', 'num_bathrooms', 'age', 'location_factor', 'is_near_mrt'])
            
            # ä½¿ç”¨æ¨¡å‹é€²è¡Œé æ¸¬
            predicted_price_in_ten_thousand = MODEL.predict(input_data)[0]
            logger.info(f"æˆåŠŸä½¿ç”¨æ¨¡å‹é æ¸¬åƒ¹æ ¼ï¼š{predicted_price_in_ten_thousand} è¬")
        except Exception as e:
            logger.warning(f"âš ï¸ æ¨¡å‹é æ¸¬å¤±æ•—: {e}ï¼Œé€€å›æ¨¡æ“¬é‚è¼¯ã€‚")
            # æ¨¡æ“¬é æ¸¬é‚è¼¯
            base_price_per_ping = 150 if 'å¤§å®‰å€' in data.address or 'ä¿¡ç¾©å€' in data.address else 80
            predicted_price_in_ten_thousand = data.area * base_price_per_ping
    else:
        # è‹¥ç„¡æ¨¡å‹ï¼Œä½¿ç”¨æ¨¡æ“¬é‚è¼¯ï¼Œç¢ºä¿æœå‹™å¯ç”¨æ€§
        base_price_per_ping = 80
        if 'å¤§å®‰å€' in data.address or 'ä¿¡ç¾©å€' in data.address:
            base_price_per_ping = 150
        elif 'ä¸­å±±å€' in data.address or 'æ¾å±±å€' in data.address:
            base_price_per_ping = 120
        elif 'æ–‡å±±å€' in data.address or 'åŒ—æŠ•å€' in data.address:
            base_price_per_ping = 70
        
        predicted_price_in_ten_thousand = data.area * base_price_per_ping
        logger.info(f"ä½¿ç”¨æ¨¡æ“¬é‚è¼¯é æ¸¬åƒ¹æ ¼ï¼š{predicted_price_in_ten_thousand} è¬")

    # è¿”å›å››æ¨äº”å…¥å¾Œçš„åƒ¹æ ¼ï¼ˆå–®ä½ï¼šè¬å°å¹£ï¼‰
    return {"predicted_price": round(float(predicted_price_in_ten_thousand), 2)}
```

## å¿«é€Ÿé–‹å§‹

**æ³¨æ„**ï¼šæœ¬å€‰åº«åƒ…åŒ…å«æ ¸å¿ƒä»£ç¢¼ï¼ˆå‰ç«¯ã€AI æœå‹™ã€è³‡æ–™åº«çµæ§‹ã€å¾Œç«¯æ§åˆ¶å™¨ç­‰ï¼‰ï¼Œä¸åŒ…å«å®Œæ•´çš„ Laravel æ¡†æ¶ä»£ç¢¼ã€‚ä½¿ç”¨è€…éœ€è‡ªè¡Œå®‰è£ Laravel ä¸¦å°‡æ ¸å¿ƒä»£ç¢¼æ•´åˆè‡³ Laravel å°ˆæ¡ˆã€‚ä»¥ä¸‹ç‚ºå®Œæ•´å®‰è£èˆ‡éƒ¨ç½²æ­¥é©Ÿï¼Œç¢ºä¿èˆ‡ BitStone çš„æŠ€è¡“åœ˜éšŠå°æ¥æ™‚èƒ½å¿«é€Ÿå±•ç¤ºæˆæœã€‚

### å‰ç½®æ¢ä»¶

- **Docker Desktop**ï¼šåŒ…å« Docker Engine å’Œ Docker Composeã€‚[ä¸‹è¼‰ Docker Desktop](https://docs.docker.com/get-docker/)ã€‚
- **PHP 8.3**ï¼šç”¨æ–¼é‹è¡Œ Laravelã€‚[å®‰è£ PHP](https://www.php.net/downloads.php)ã€‚
- **Composer**ï¼šPHP ä¾è³´ç®¡ç†å·¥å…·ã€‚[å®‰è£ Composer](https://getcomposer.org/download/)ã€‚
- **Node.js 20.x**ï¼šç”¨æ–¼å‰ç«¯ Vite æ§‹å»ºã€‚[å®‰è£ Node.js](https://nodejs.org/)ã€‚
- **Python 3.10**ï¼šç”¨æ–¼ FastAPI AI æœå‹™ã€‚[å®‰è£ Python](https://www.python.org/downloads/)ã€‚
- ç¢ºä¿ Docker å®ˆè­·é€²ç¨‹æ­£åœ¨é‹è¡Œã€‚

### å®‰è£èˆ‡éƒ¨ç½²

1. **è¤‡è£½å°ˆæ¡ˆç¨‹å¼ç¢¼**ï¼š
   ```bash
   git clone https://github.com/BpsEason/smart-realestate-system.git
   cd smart-realestate-system
   ```

2. **å®‰è£ Laravel æ¡†æ¶**ï¼š
   - å‰µå»ºä¸€å€‹æ–°çš„ Laravel å°ˆæ¡ˆï¼ˆè‹¥å°šæœªå­˜åœ¨ï¼‰ï¼š
     ```bash
     composer create-project laravel/laravel backend-laravel
     ```
   - å°‡å€‰åº«ä¸­çš„æ ¸å¿ƒä»£ç¢¼ï¼ˆ`backend-laravel/app/`, `backend-laravel/database/`, `backend-laravel/routes/` ç­‰ï¼‰è¤‡è£½åˆ°æ–°å‰µå»ºçš„ Laravel å°ˆæ¡ˆï¼š
     ```bash
     cp -r backend-laravel/app backend-laravel/database backend-laravel/routes <æ‚¨çš„Laravelå°ˆæ¡ˆè·¯å¾‘>/
     ```

3. **å®‰è£ Laravel ä¾è³´**ï¼š
   - é€²å…¥ Laravel å°ˆæ¡ˆç›®éŒ„ï¼š
     ```bash
     cd <æ‚¨çš„Laravelå°ˆæ¡ˆè·¯å¾‘>
     composer install
     ```

4. **é…ç½®ç’°å¢ƒè®Šæ•¸**ï¼š
   - è¤‡è£½ `.env.example` ç‚º `.env`ï¼š
     ```bash
     cp .env.example .env
     ```
   - ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œè¨­ç½®ä»¥ä¸‹é—œéµè®Šæ•¸ï¼ˆèˆ‡ BitStone çš„ SaaS æ¨¡å¼ç›¸å®¹ï¼‰ï¼š
     ```env
     API_KEY_SECRET=your_api_key_secret
     AI_SERVICE_INTERNAL_API_KEY=your_ai_service_key
     OPENAI_API_KEY=your_openai_api_key
     VITE_GOOGLE_MAPS_API_KEY=your_google_maps_api_key
     DB_CONNECTION=mysql
     DB_HOST=db
     DB_PORT=3306
     DB_DATABASE=realestate
     DB_USERNAME=root
     DB_PASSWORD=your_password
     ```

5. **å®‰è£å‰ç«¯ä¾è³´**ï¼š
   - é€²å…¥ `frontend/` ç›®éŒ„ï¼š
     ```bash
     cd frontend
     npm install
     ```

6. **å®‰è£ AI æœå‹™ä¾è³´**ï¼š
   - é€²å…¥ `ai-services-fastapi/` ç›®éŒ„ï¼š
     ```bash
     cd ai-services-fastapi
     pip install -r requirements.txt
     ```

7. **å»ºæ§‹ä¸¦å•Ÿå‹• Docker å®¹å™¨**ï¼š
   - è¿”å›å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼Œç¢ºä¿ `docker-compose.yml` é…ç½®æ­£ç¢ºï¼Œç„¶å¾Œé‹è¡Œï¼š
     ```bash
     docker-compose up --build -d
     ```

8. **åŸ·è¡Œ Laravel è³‡æ–™åº«é·ç§»èˆ‡å¡«å……**ï¼š
   - åœ¨ Laravel å°ˆæ¡ˆç›®éŒ„ä¸­é‹è¡Œï¼š
     ```bash
     docker-compose exec backend php artisan migrate --seed
     ```

9. **è¨ªå•æ‡‰ç”¨ç¨‹å¼**ï¼š
   - å‰ç«¯ï¼š`http://localhost:3000`
   - å¾Œç«¯ APIï¼š`http://localhost:8000/api`
   - AI æœå‹™ APIï¼š`http://localhost:8001`

## API æ–‡ä»¶

è©³ç´°çš„ REST API è¦æ ¼è«‹åƒè€ƒ [docs/api-design.md](docs/api-design.md)ã€‚ä¸»è¦ç«¯é»åŒ…æ‹¬ï¼š

- **å»ºæ¡ˆåˆ—è¡¨**ï¼š`GET /api/properties`ï¼ˆæ”¯æ´åˆ†é ï¼Œé©ç”¨æ–¼ B2B å®¢æˆ¶ï¼‰
- **å»ºæ¡ˆè©³æƒ…**ï¼š`GET /api/properties/{id}`ï¼ˆæ”¯æ´ B2C å±•ç¤ºï¼‰
- **ç”Ÿæˆæ–‡æ¡ˆ**ï¼š`POST /api/properties/{id}/generate-content`ï¼ˆAI é©…å‹•è¡ŒéŠ·ï¼‰
- **æˆ¿åƒ¹é æ¸¬**ï¼š`POST /predict/price`ï¼ˆAI æœå‹™ï¼Œæ”¯æ´ B2B èˆ‡ B2Cï¼‰
- **å¥åº·æª¢æŸ¥**ï¼š`GET /api/health`

æ‰€æœ‰å¾Œç«¯ API è«‹æ±‚éœ€åŒ…å« `X-API-KEY` æ¨™é ­ï¼ŒAI æœå‹™ API éœ€åŒ…å« `X-API-KEY`ï¼ˆå…§éƒ¨é‡‘é‘°ï¼‰ï¼Œç¢ºä¿å®‰å…¨ä¸”ç¬¦åˆ BitStone çš„åˆè¦éœ€æ±‚ã€‚

## å°ˆæ¡ˆçµæ§‹

```
smart-realestate-system/
â”œâ”€â”€ frontend/                     # Vue.js å‰ç«¯ï¼Œæ”¯æ´ B2C éŠ·å”®å¹³å°
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # Vue çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/               # é é¢ï¼ˆé¦–é ã€å»ºæ¡ˆè©³æƒ…ã€æˆ¿åƒ¹é æ¸¬ã€é—œæ–¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ assets/              # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ router/              # Vue Router é…ç½®
â”‚   â”‚   â”œâ”€â”€ services/            # API æœå‹™
â”‚   â”‚   â””â”€â”€ style.css            # Tailwind CSS æ¨£å¼
â”œâ”€â”€ backend-laravel/              # Laravel æ ¸å¿ƒä»£ç¢¼ï¼ˆéœ€æ•´åˆè‡³å®Œæ•´ Laravel å°ˆæ¡ˆï¼‰
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ Models/              # Eloquent æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Http/Controllers/    # API æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ Http/Middleware/     # è‡ªå®šç¾©ä¸­é–“ä»¶
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ migrations/          # è³‡æ–™åº«é·ç§»
â”‚   â”‚   â””â”€â”€ seeders/             # è³‡æ–™åº«å¡«å……
â”‚   â”œâ”€â”€ docker/                  # Nginx å’Œ Supervisor é…ç½®
â”‚   â””â”€â”€ routes/api.php           # API è·¯ç”±
â”œâ”€â”€ ai-services-fastapi/          # FastAPI AI æœå‹™ï¼Œæ”¯æ´ AI åŠŸèƒ½
â”‚   â”œâ”€â”€ routers/                 # API è·¯ç”±ï¼ˆé æ¸¬ã€æ–‡æ¡ˆç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ models/                  # æ©Ÿå™¨å­¸ç¿’æ¨¡å‹
â”‚   â”œâ”€â”€ services/                # æ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ docs/                    # è¨“ç·´è…³æœ¬ç­‰æ–‡ä»¶
â”‚   â””â”€â”€ main.py                  # FastAPI ä¸»æ‡‰ç”¨
â”œâ”€â”€ database/                     # MySQL è³‡æ–™åº«
â”‚   â”œâ”€â”€ schema.sql               # è³‡æ–™åº«çµæ§‹
â”‚   â””â”€â”€ Dockerfile               # MySQL Dockerfile
â”œâ”€â”€ docs/                         # æ–‡ä»¶
â”‚   â”œâ”€â”€ architecture.md          # ç³»çµ±æ¶æ§‹
â”‚   â”œâ”€â”€ api-design.md            # API è¦æ ¼
â”‚   â”œâ”€â”€ setup.md                 # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ examples/                # ç¤ºä¾‹æ•¸æ“š
â”œâ”€â”€ docker-compose.yml            # Docker Compose é…ç½®
â””â”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
```

## å•é¡Œæ’é™¤

- **Mermaid åœ–è¡¨ç„¡æ³•æ¸²æŸ“**ï¼š
  - ç¢ºèªç¯€é»åç¨±ä½¿ç”¨çŸ­æ©«ç·šï¼ˆ`-`ï¼‰è€Œéä¸­æ–‡åœ“æ‹¬è™Ÿ `( )`ï¼Œä»¥ç¬¦åˆ GitHub Mermaid èªæ³•è¦ç¯„ã€‚[](https://en.wikipedia.org/wiki/Property_technology)
  - åƒè€ƒ [GitHub Mermaid æ–‡ä»¶](https://docs.github.com/get-started/writing-on-github/working-with-advanced-formatting/creating-diagrams#creating-mermaid-diagrams)ã€‚
- **Laravel æ¡†æ¶ç¼ºå¤±**ï¼š
  - ç¢ºèªå·²å®‰è£ Laravel ä¸¦å°‡å€‰åº«ä¸­çš„æ ¸å¿ƒä»£ç¢¼ï¼ˆ`app/`, `database/`, `routes/`ï¼‰æ­£ç¢ºè¤‡è£½åˆ° Laravel å°ˆæ¡ˆã€‚
  - é‹è¡Œ `composer install` ä»¥å®‰è£ Laravel ä¾è³´ã€‚
- **æœå‹™å•Ÿå‹•å¤±æ•—**ï¼š
  - æª¢æŸ¥ Docker æ—¥èªŒï¼š`docker-compose logs <service-name>`ã€‚
  - ç¢ºä¿åŸ ï¼ˆ3000ã€8000ã€8001ã€3306ï¼‰æœªè¢«ä½”ç”¨ã€‚
- **è³‡æ–™åº«é€£ç·šéŒ¯èª¤**ï¼š
  - ç¢ºèª `.env` ä¸­çš„ `DB_HOST=db` å’Œå…¶ä»–è³‡æ–™åº«è¨­ç½®æ­£ç¢ºã€‚
  - æª¢æŸ¥ `db` æœå‹™æ˜¯å¦ç‚ºã€Œhealthyã€ï¼š`docker-compose ps`ã€‚
- **API è«‹æ±‚å¤±æ•—**ï¼š
  - æª¢æŸ¥ `X-API-KEY` æ˜¯å¦æ­£ç¢ºè¨­ç½®ã€‚
  - ç¢ºèª CORS é…ç½®ï¼ˆ`ai-services-fastapi/main.py`ï¼‰æ˜¯å¦å…è¨±å‰ç«¯åŸŸåã€‚
- **AI æœå‹™éŒ¯èª¤**ï¼š
  - æª¢æŸ¥ `OPENAI_API_KEY` æ˜¯å¦æœ‰æ•ˆã€‚
  - ç¢ºèªæ¨¡å‹æª”æ¡ˆï¼ˆ`ai-services-fastapi/models/model_xgb.pkl`ï¼‰æ˜¯å¦å­˜åœ¨ã€‚

è©³ç´°å•é¡Œæ’é™¤è«‹åƒè€ƒ [docs/setup.md](docs/setup.md)ã€‚

## æœªä¾†æ“´å±•

- **SaaS æ¨¡å¼å¼·åŒ–**ï¼šæ”¯æ´å¤šå±¤è¨‚é–±è¨ˆè²»ï¼ˆåŸºç¤ç‰ˆã€å°ˆæ¥­ç‰ˆã€ä¼æ¥­ç‰ˆï¼‰ï¼Œèˆ‡ BitStone çš„ B2B æ¨¡å¼å°æ¥ã€‚
- **æ–°åŠŸèƒ½**ï¼šæ–°å¢ç”¨æˆ¶èªè­‰ï¼ˆLaravel Sanctumï¼‰ã€é«˜ç´šåˆ†æå„€è¡¨æ¿ã€VR/AR ç·šä¸Šè³å±‹ï¼Œå¢å¼· B2C å¹³å°å¸å¼•åŠ›ã€‚
- **æ•ˆèƒ½å„ªåŒ–**ï¼šæ•´åˆ Redis å¿«å–ã€è² è¼‰å‡è¡¡ï¼Œæ”¯æ´ BitStone çš„é«˜æµé‡éœ€æ±‚ã€‚
- **å€å¡Šéˆæ•´åˆ**ï¼šæ¢ç´¢å€å¡ŠéˆæŠ€è¡“ç”¨æ–¼åœŸåœ°ç”¢æ¬Šè¨˜éŒ„ï¼Œèˆ‡ BitStone çš„å‰µæ–°æŠ€è¡“æ–¹å‘ä¸€è‡´ã€‚[](https://iaps.ord.nycu.edu.tw/%25E3%2580%2590article%25E3%2580%2591%25E6%259D%25B1%25E4%25BA%259E%25E9%2580%258F%25E8%25A6%2596%25E9%258F%25A1%25EF%25BC%259A%25E6%2588%25BF%25E5%259C%25B0%25E7%2594%25A2-x-%25E6%2595%25B8%25E4%25BD%258D%25E8%25BD%2589%25E5%259E%258B-%25E5%2586%2589%25E5%2586%2589%25E5%258D%2587%25E8%25B5%25B7%25E7%259A%2584-proptech/)

## è²¢ç»

æ­¡è¿æäº¤å•é¡Œå ±å‘Šæˆ–åŠŸèƒ½å»ºè­°ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. Fork å°ˆæ¡ˆä¸¦å»ºç«‹æ‚¨çš„åˆ†æ”¯ï¼ˆ`git checkout -b feature/your-feature`ï¼‰ã€‚
2. æäº¤è®Šæ›´ï¼ˆ`git commit -m "Add your feature"`ï¼‰ã€‚
3. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/your-feature`ï¼‰ã€‚
4. å»ºç«‹ Pull Requestã€‚

## è¯ç¹«æ–¹å¼

å¦‚æœ‰åˆä½œæ„å‘ï¼ˆæŠ€è¡“æ•´åˆã€æŠ•è³‡æˆ–ç™½æ¨™è§£æ±ºæ–¹æ¡ˆï¼‰ï¼Œè«‹è¯ç¹«ï¼š  
ğŸ“§ [contact@smart-realestate.com](mailto:contact@smart-realestate.com)

## æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šã€‚è©³æƒ…è«‹è¦‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

*æœ€å¾Œæ›´æ–°ï¼š2025-06-27*
